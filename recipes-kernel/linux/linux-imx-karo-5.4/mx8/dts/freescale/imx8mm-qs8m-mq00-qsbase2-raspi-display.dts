// SPDX-License-Identifier: (GPL-2.0 OR MIT)
/*
 * Copyright (C) 2019 Markus Bauer <MB@KARO-electronics.de>
 *
 */

/dts-v1/;

#include "imx8mm-qs8m-mq00-qsbase2.dts"

/ {
	model = "Ka-Ro electronics QS8M-MQ00 (NXP i.MX8MM) Module on QSBASE2 baseboard with Raspi 7-inch Display";
};

&gpu {
	status = "okay";
};

&i2c2 {
	rpi_display: rpi_display@45 {
		compatible = "rpi_display";
		reg = <0x45>;
	};

	rpi_ft5406: rpi_ft5406@38 {
		compatible = "rpi_ft5406";
		reg = <0x38>;
	};
};

&lcdif {
        status = "okay";
};

&mipi_dsi {
	status = "okay";

	panel@0 {
		compatible = "rpi,tc358762";
		reg = <0>;
		dsi-lanes = <1>;
		video-mode = <2>;
		panel-width-mm = <154>;
		panel-height-mm = <86>;

		port {
			panel1_in: endpoint {
				remote-endpoint = <&mipi_dsi_bridge_out>;
			};
		};
	};

	port@1 {
		mipi_dsi_bridge_out: endpoint {
			remote-endpoint = <&panel1_in>;
		};
	};
};

&vpu_g1 {
	status = "okay";
};

&vpu_g2 {
	status = "okay";
};

&vpu_h1 {
	status = "okay";
};
